---
layout: post
title:  "Linux基础学习"
date:   2017-03-30 17:48:00 +0800
categories: Linux
---
## 启动级别

* **0：停机**
* **1：单用户形式，只root进行维护**
* 2：多用户，不能使用net file system
* **3：完全多用户**
* 4：安全模式
* **5：图形化**
* **6：重启**

其实，可以通过查看`/etc/rc.d/`中的`rc*.d`的文件来对比理解，不同的目录中包含的命令是不同的  
`init 0`，对应的系统会运行，`/etc/rc.d/rc0.d`里指定的程序
S00killall、 S01halt  
这两个都表示为终止进程。故init 0是用于表示关机的

## Shell终端

如同其他UNIX类系统，Linux本身也是基于命令行的。试试 `Ctrl+Alt+F1`。这就是控制台，算是Linux的本来面目。至于使用方法，除了多出登录注销外，和前面章节所提到的“终端”差不多。 在X-Window出问题或不运行X-Window的时候，操作主要在这里完成。

在控制台终端下登录时，“login: ”处输入帐号，“password: ”处输入口令。同样为安全起见，输入的口令不显示。控制台终端注销用命令“logout”。在控制台终端启动的后台程序不会因为注销而终止。

前面说过，控制台终端“算是Linux的本来面目”。也只能“算是”，因为各终端里运行的命令行程序并不是终端本身，更不是Linux本身。像X-Window一样，那个命令行程序实质上也是个外围程序，叫“shell”。

“shell”，壳。从名字看，也许你已经猜到一些东西。不错，它包含了用户界面功能，负责接收使用者输入的东西，翻译后发送给Linux内核处理。如果有输出信息，它也会把输出信息显示出来。相对DOS而言，shell就相当于“command.com”。

shell同样能进行由几个命令串成的“批处理”。与“command.com”不同，shell的功能要强大许多。一个功能稍强的shell脚本，已经具备高级语言的语法结构，因此编写shell脚本在很多情况下也被看作是编程。

一般情况下，在控制台终端登录或在图形界面下开启“终端”，默认都会启动一个shell来接待使用者。

可以在shell的命令行里启动另外一个shell。退出当前shell的通用命令是“exit”。如果当前使用的shell正是控制台登录后启动的，则`exit`等效于`logout`。

shell有很多种，各有特色。目前使用比较广泛的是shell是“bash”，主要的Linux发行版均以其作为默认的shell。 “bash”和其他主流shell都支持一次输入多个命令，支持启动后台程序。如果要依次执行多个命令，命令间用“;”隔开；如果要让这个程序在后台运 行，在命令后面加“&”。

`/etc/passwd`中记录了每个用户登录使用的默认shell终端，通常shell脚本中第一行中的`#!/bin/bash`即为直接执行此脚本所调用的默认shell。

## 环境变量

### 什么是环境变量

环境变量是一个具有特定名字的对象，它包含了一个或者多个应用程序所将使用到的信息。许多用户（特别是那些刚接触Linux的新手）发现这些变量有些怪异或者难以控制。其实，这是个误会：通过使用环境变量，你可以很容易的修改一个牵涉到一个或多个应用程序的配置信息。

简单的说，环境变量就是在操作系统层面供程序间记录、读取状态的变量。

### 环境变量文件和配置

Linux中环境变量包括系统级和用户级，系统级的环境变量是每个登录到系统的用户都要读取的系统变量，而用户级的环境变量则是该用户使用系统时加载的环境变量。
所以管理环境变量的文件也分为系统级和用户级的，下面贴一个网上找到的讲的比较明白的文件介绍：

1. 系统级：  
**`/etc/profile`：该文件是用户登录时，操作系统定制用户环境时使用的第一个文件，应用于登录到系统的每一个用户。该文件一般是调用`/etc/bash.bashrc`文件。**  
`/etc/bash.bashrc`：系统级的bashrc文件。  
`/etc/environment`:在登录时操作系统使用的第二个文件,系统在读取你自己的profile前,设置环境文件的环境变量。

2. 用户级（这些文件处于家目录下）：  
`~/.profile`:每个用户都可使用该文件输入专用于自己使用的shell信息,当用户登录时,该文件仅仅执行一次!默认情况下,他设置一些环境变量,执行用户的.bashrc文件。这里是推荐放置个人设置的地方  
**`~/.bashrc`:该文件包含专用于你的bash shell的bash信息,当登录时以及每次打开新的shell时,该该文件被读取。不推荐放到这儿，因为每开一个shell，这个文件会读取一次，效率肯定有影响。**  
`~/.bash_profile` or `~./bash_login`：这里没有引用作者的，下面会提到  
`~/.pam_environment`:用户级的环境变量设置文件，没有做测试，不知道管不管用。  

### 相关命令

`PATH=/usr/local/bin:$PATH`: 变量赋值
`export PATH`: 导出为环境变量（脚本中为永久，命令行中为临时）  
`source ~/.bashrc`: 使环境变量文件立即生效  
`echo $PATH`: 打印当前环境变量  
`env`: 查看当前所有环境变量

